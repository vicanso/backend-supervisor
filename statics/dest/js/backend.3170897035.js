!function(e){"use strict";var t=angular.module("jt.service.backend",[]);t.factory("backendService",["$http",function(e){function t(){var e="name category ip port".split(" "),t=o.config,n=!1;return angular.forEach(e,function(e){t[e]||(n=!0)}),n}function n(){if(t())return o.status="error",void(o.error="the field can not be empty.");var n=e.post("/backend",o.config);return o.status="submiting",o.op="save",n.then(function(e){o.status="success"},function(e){o.status="error"}),n}function r(t){var n=e["delete"]("/backend"+t);return o.op="remove",n.then(function(){o.status="success"},function(e){o.status="error"}),n}var o={statu:"",op:"",config:{}},c={init:function(){return o},save:n,remove:r};return c}]);var n=function(e,t,n,r){var o=this;return o.mode="view",o.backend=r.init(),o.save=function(){r.save().then(function(){setTimeout(function(){location.reload()},3e3)})},o.remove=function(e,t){r.remove(e).then(function(){angular.element(t.target).closest("tr").remove()})},e.$watch("backendPage.backend.config",function(){o.backend.status=""},!0),o};n.$inject=["$scope","$http","debug","backendService"],angular.module("jtApp").addRequires("jt.service.backend").controller("BackendPageController",n)}(this);