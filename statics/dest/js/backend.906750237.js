!function(t){"use strict";angular.module("jtApp").factory("backendService",["$http",function(t){function n(){var t="name category ip port".split(" "),n=a.config,e=!1;return angular.forEach(t,function(t){n[t]||(e=!0)}),!e}function e(){return n()?!0:(a.status="error",a.error="the field can not be empty.",!1)}function r(){var n=t.post("/backend",a.config);return a.status="submiting",a.op="save",n.then(function(t){a.status="success"},function(t){a.status="error"}),n}function o(n){var e=t["delete"]("/backend"+n);return a.op="remove",e.then(function(){a.status="success"},function(t){a.status="error"}),e}var a={statu:"",op:"",config:{}},c={init:function(){return a},save:r,remove:o,validate:e};return c}]);var n=function(t,n,e,r){var o=this;return o.mode="view",o.backend=r.init(),o.save=function(){r.validate()&&r.save().then(function(){setTimeout(function(){location.reload()},3e3)})},o.remove=function(t,n){r.remove(t).then(function(){angular.element(n.target).closest("tr").remove()})},t.$watch("backendPage.backend.config",function(){o.backend.status=""},!0),o};n.$inject=["$scope","$http","debug","backendService"],angular.module("jtApp").controller("BackendPageController",n)}(this);