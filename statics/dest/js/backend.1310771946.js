!function(t){"use strict";angular.module("jtApp").factory("backendService",["$http",function(t){function n(){var t="name category ip port".split(" "),n=o.config,e=!1;return angular.forEach(t,function(t){n[t]||(e=!0)}),e}function e(){if(n())return o.status="error",void(o.error="the field can not be empty.");var e=t.post("/backend",o.config);return o.status="submiting",o.op="save",e.then(function(t){o.status="success"},function(t){o.status="error"}),e}function r(n){var e=t["delete"]("/backend"+n);return o.op="remove",e.then(function(){o.status="success"},function(t){o.status="error"}),e}var o={statu:"",op:"",config:{}},c={init:function(){return o},save:e,remove:r};return c}]);var n=function(t,n,e,r){var o=this;return o.mode="view",o.backend=r.init(),o.save=function(){r.save().then(function(){setTimeout(function(){location.reload()},3e3)})},o.remove=function(t,n){r.remove(t).then(function(){angular.element(n.target).closest("tr").remove()})},t.$watch("backendPage.backend.config",function(){o.backend.status=""},!0),o};n.$inject=["$scope","$http","debug","backendService"],angular.module("jtApp").controller("BackendPageController",n)}(this);